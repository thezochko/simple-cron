FROM alpine:3.10.0

ARG CRON_JOB_DEPENDENCIES_ARG
ARG CRONJOBS_TEXT_FILE_PATH_ARG

ENV CRON_JOB_DEPENDENCIES=$CRON_JOB_DEPENDENCIES_ARG 
ENV CRONJOBS_TEXT_FILE_PATH=$CRONJOBS_TEXT_FILE_PATH_ARG

RUN apk update && apk add --no-cache \
${CRON_JOB_DEPENDENCIES}

COPY ${CRONJOBS_TEXT_FILE_PATH} cronjobs.txt
RUN cat cronjobs.txt | crontab -

# Starting cron as the entrypoint of this image
ENTRYPOINT ["/usr/sbin/crond", "-f"]